<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Learn Uyghur Alphabets</title>
    <link href="/css/style.css" rel="stylesheet">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">


    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const isUserMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent); // Check if user is on mobile

        const letters = document.querySelectorAll(".pictorial a"); // Adjust selector to your HTML structure

        letters.forEach(letter => {
          const audioPath = letter.dataset.audio || `/audio/${letter.textContent.trim()}.mp3`; // Adjust based on your audio file paths
          const audio = new Audio(audioPath);

          if (isUserMobile) {
            let clickTimeout;

            letter.addEventListener("click", e => {
              e.preventDefault(); // Prevent immediate navigation

              if (clickTimeout) {
                clearTimeout(clickTimeout);
                clickTimeout = null;
                window.location.href = letter.href; // Navigate on double-tap
              } else {
                clickTimeout = setTimeout(() => {
                  clickTimeout = null;
                  audio.currentTime = 0;
                  audio.play(); // Play on single tap
                }, 300); // Delay to differentiate single and double taps
              }
            });
          } else {
            // Computer: Play on hover
            letter.addEventListener("mouseenter", () => {
              audio.currentTime = 0; // Reset audio to the beginning
              audio.play();
            });

            letter.addEventListener("mouseleave", () => {
              audio.pause(); // Pause on hover out
            });
          }
        });
      });

    </script>


  </head>

  <body>
    <div id="wrapper">
      <!--Navigation Bar -->
      <header class="bg-blue-400 text-white sticky top-0 z-50">
          <div class="flex justify-between items-center p-4">

              <h1 class="text-2xl font-bold hover:text-yellow-100" >
                <a href="/">
                  Learn Uyghur Alphabets
                </a>
              </h1>

              <h1 class="text-2xl font-bold hover:text-yellow-100" dir="rtl">
                <a href="/">
                  ئۇيغۇرچە ھەرىپلەرنى ئ‍ۆگىنەيلى
                </a>
              </h1>

          </div>
      </header>
      

      <!--option list-->
      <div class="control">
        <div class="option-list">
          <div class="option-button">

            <div class="bg-blue-400 text-white font-bold py-2 px-4 rounded hover:bg-blue-600 mr-10">
                  <a href="/vowels">
                    Vowels
                  </a>
            </div>

            <div class="bg-blue-400 text-white font-bold py-2 px-4 rounded hover:bg-blue-600">
                  <a href="/consonents">
                    Consonents
                  </a>
            </div>

          </div>

          <div class="option-text">

            <div class="text-blue-400 text-2xl font-bold mr-4">
              <em>
                (The Alphabet)
              </em>
            </div>
            
              <div class="text-blue-400 text-2xl font-bold">
                ئېلىپبە
              </div>

          </div>

        </div>
      </div>


      <main>
        <%= yield %>
      </main>

      <div id="recommended-sites" class="bg-gray-10 p-6 rounded shadow-lg mt-8">
        <h2 class="text-xl font-bold text-blue-400 mb-4">Recommended Sites</h2>
        <ul class="list-disc pl-6">
          <li>
            <a href="https://www.languageguide.org/english/alphabet/" class="text-blue-400 hover:underline" target="_blank" rel="noopener noreferrer">
              LanguageGuide.org - English Alphabet
            </a>
          </li>
          <li>
            <a href="https://en.wikipedia.org/wiki/Uyghur_alphabets" class="text-blue-400 hover:underline" target="_blank" rel="noopener noreferrer">
              Wikipedia-Uyghur alphabets
            </a>
          </li>
          <li>
            <a href="https://www.omniglot.com/writing/uyghur.htm" class="text-blue-400 hover:underline" target="_blank" rel="noopener noreferrer">
              Omniglot-Uyghur
            </a>
          </li>
          <li>
            <a href="https://apps.apple.com/app/id1509707045" class="text-blue-400 hover:underline" target="_blank" rel="noopener noreferrer">
              Elipbe-App Store
            </a>
          </li>
        </ul>
      </div>


      <footer class="bg-blue-400 text-white text-center py-2">
        &copy; 2024 Learn Uyghur Alphabets. All rights reserved.
      </footer>
    </div>
  

  </body>
</html>
